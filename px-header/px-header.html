<!--
/*
 * Copyright (c) 2016 GE Global Research. All rights reserved.
 *
 * The copyright to the computer software herein is the property of
 * GE Global Research. The software may be used and/or copied only
 * with the written permission of GE Global Research or in accordance
 * with the terms and conditions stipulated in the agreement/contract
 * under which the software has been supplied.
 */
 -->
<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../px-brand/px-brand.html">
<!--
The `px-header` element provides an easy way to create the header commonly used in Predix apps.

### Usage

```
<px-header title="My Application Name" subtitle="My Product Name"></px-header>
```

### Styling
The following custom properties are available for styling:

Custom property | Description | Default
----------------|-------------|----------
`--px-header` | Mixin applied to the element | {}
`--px-header-nav` | Mixin applied to the nav element | {}

@element px-header
@demo ./demo.html
@homepage index.html
-->
<dom-module id="px-header">
	<link rel="import" type="css" href="../css/px-partials.css">
	<template strip-whitespace>
		<style>
			:host {
				display: block;
			}
			:host .c-header {
				@apply(--px-header);
			}
			:host .c-header__nav {
				@apply(--px-header-nav);
			}
			:host .c-header__title {
				@apply(--px-header-title);
			}
			:host .c-header__subtitle {
				@apply(--px-header-subtitle);
			}
			:host .c-header__link {
				@apply(--px-header-link);
			}

		</style>
		<div class="c-header flex flex--middle flex--spaced flex--row">

			<div class="c-header__left flex flex__item flex--middle flex--left u-ml-">
				<div class="c-header__brand">
					<span class="c-header__logo flex flex--middle flex--center">
						<px-brand monogram size="24"></px-brand>
					</span>
				</div>

				<div class="flex flex--middle flex--spaced  u-ml- " hidden$="{{!title}}">
					<span class="c-header__title epsilon">{{title}}</span>
					  <template is="dom-if" if="{{subtitle}}">
					<span class="c-header__seperator u-ml- u-mr- is-hidden@sm-" hidden$="{{!subtitle}}"></span>
					<span class="c-header__subtitle  is-hidden@sm-" hidden$="{{!subtitle}}">{{subtitle}}</span>
				</template>
				</div>
				<content id="leftContent" select="[left]"></content>
			</div>





			<div class="c-header__right flex__item flex__item--middle flex flex--right">
				<div class="c-header__nav flex flex__item flex--middle u-ml">
					<nav class="nav flex flex--justify">
						<template is="dom-repeat" items="[[navItems]]">
							<a class="u-p- c-header__link">{{item.label}}</a>
						</template>
					</nav>
				</div>
        <div class="flex">
					<template is="dom-if" if="{{username}}">
	          <a class="c-header__link user flex flex--middle flex--center ">
	            <span class="circle flex flex--center flex--middle">
	                <!--<px-icon icon="fa:fa-user"></px-icon>-->
	              <i class="fa fa-lg fa-user"></i>
	            </span>
	            <span class="username flex flex--middle u-ml--">
	              {{username}}
	            </span>
	          </a>
	        </template>

        </div>
					<content id="rightContent" select="[right]"></content>

					<span class="c-header__powered is-hidden@xs-" hidden$="{{!powered}}">{{powered}}</span>

			</div>

		</div>
	</template>
	<script>
		Polymer({
			is: 'px-header',
			hostAttributes: {
				role: 'header'
			},
			properties: {
				/**
				 * The title to display
				 */
				title: {
					type: String,
					value: 'Seed Application'
				},
				/**
				 * The subtitle to display
				 */
				subtitle: {
					type: String
				},
				/**
				 * The powered by to display
				 */
				powered: {
					type: String
				},
				/**
				 * The username to display
				 */
        username: {
          type: String
        },
				/**
				 * Array of menu items to display with keys (label, href)
				 */
				navItems: {
					type: Array
				}
			},
			ready: function(){
				this.toggleClass('u-p-');
			}
		});
	</script>
</dom-module>
