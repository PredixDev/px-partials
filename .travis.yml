sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: LuUm2tlVuuMiiK5byqa9ScIOqn7V/4HMzsQaZ9pbMovKTaLHkaFbfT8OPBIdvS2qSnUpFPFEvJiIZt0KGaliOmZIq4W92xCy0qNivW6YdmRpyUj0Z7xKMUAbMlKN7wj9eDMGBRwbnEn/EMgv2VC47XYL9SWW9w3+4U5MDZfkxebdpX8c5NkOHxX5/O4kGGkZ7udQwneUwrhP5F9ziYkUw+vpPNSUHU1zOhM1BDjyRRKBSYALyWYGDrgMJE1yia6FFQvwnoFEzuKwbA8SLEScUF4CN20JS9mil7CiJAz43ITUL1WadUe1/UEq/cfHHXBRu33JNhEWdXgyjI66c1yH9yIcJ2DUo3T2a9QDXglleXA7n018Y97Ir8bVyd2eLWHyOyqAFoSLpFdbCZLOlJhUItgDR5ljtJTp6cxLq7O/eLfcMGEWL4/XScmGjlqNRkaXJwkcLSGWNa/mpZXS7LSC9GyeyWlytibt8l72PrywHXpOcsBVZzLn11We8cW9ANO4UieNAi1vMMW9tSkK68d0rYowC6djW3HEp0EL7ONP4jyWsVqoUqqLOwHyEbX19NCj5reutNavEgsoebTUov2q0rA20mwC0cwisCfNFGjW4BYqgJr5hAs9vMbvMA+Pr+uKmXveEb+usn6HduObUSyPU+MEatkPBVKaYL+UOADqejg=
  - secure: iLSYmzV00vpprv19QQwRw6P2yg5qHfOC3ct71w7Wc02ecMfn40klCZIVttlK3uhzLu2ZB9ZctzpwFXFz2VJOcrHkdPKjFHZekFOHyfNmGuYBbJcCiJt9XrF1INnGyroHhNctdYokb0CYWzEpvyJQgrVMYQOdrXWQASGB8l6X4TBGwP7U9Me3gGYTHXtV5BJs9vIXDmk95KVcRJo+FFYyz9Rhjfn/pFAwFGK0fD9HJG7iR6NiZgqMQ0qbJAlZB2dnGY7SnRAQjD2HC4JdRVGjd9ooD/4V7buQ3irWrdFihNUEeGmRQvvZHSE1Jxn5EibdOld2pVEI2R0BMk6RU0uDxEQ4Zeu+QPJRj5VXFFLB6S4ELs1NtTd7RyYAvnBFDtGcXDAot0CtaqlACUS63KyV082ORL7jMa7u6Jb0nWOzfotzjEcRMSYHjSM6eH+pW0fUgHv7gYNNFO2U6q4YrtBWOUwsRBk7pytplM/v1ZxFwPK7YGvZJtJd85lilV/CwFUN+eeGV+q9v0eOdvVXx9UoXeHkfDfsHMegV9UyuCyvTy4+LP02b2YdhrET5drFEtJPr8cY6G7vJzh723p7fAda0KKhB39Ej6ha/ISCHzrGib2wnPX7j3TBXKmxQSHM681wFkB4mFSC+ctghMwm/R3qhph5dgOSlFlWwNiszKbWFw8=
  - secure: EZJwMBulX0BQgA7WGZtbhRUamJN1gJ4InwV5scACMgsTBzb8NFixQNLqtsDIvA2uPGGqwjvWFh+0HRNNsqapVfvKBhDyhxBeL/OcXnysx8bseWmTtPteEzIL++0zBntmA9ZKCeVTDrJEgBMJt9BRhSM6koecpgsSY3OzRyhZ5TRnfLKwZjGfcqIRZR6fWhu6o+BSu13jSchmvlzpcz48UxLW/cfKXC9//nopP2JpF5d1MnsvttBkltU7y4BhxcRAkPekK5Mon3+HaM+yfQQ2Xw/A251kyHFKFmVPQzC6F9IPZEYpYGClv6TEKFTNDXcfVLeSWfQNuaRGJIkYmi1gh6x3fzBCM4djH6hJqRKfP/Tj2+c2K3bqZvJAPBdH7svlBNy0YOHfG4eKFotwQFLfDOAVaUfpQAKbt9lfxCqDuxXK/iQGvNjAUdPpQAFshLL04qkOdTQ7z/vIuhxChmQ5prPNUh7ilbSIIslTYp9ol/JQs43OnrLVqeaUbCeFlwKP6cfF8tS86xSSBIVVfjiXfEb+A7hfDlYLbw9yD2La3nlceM6DYPsRF/OuQzaWo55ZBmF2/RAGiq4v1pY5lnCtZ4sCjTcFI+TVGXZ+8Kgu/JR0X0gTWB8sd5lN4GOCMDLGlOn5bG9HUNsRSq254t4SsCNwtPLobJ+qrreLprCE/j4=
